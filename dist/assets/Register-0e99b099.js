import{_ as u,o as a,c as r,a as t,t as p,w as h,v as l,b as d,d as c,p as g,e as m}from"./index-2ffd6dfa.js";const i=e=>(g("data-v-0d7e9781"),e=e(),m(),e),_={class:"login-container middle-page-content"},v={key:0,class:"container"},b=i(()=>t("h1",{class:"text-center"},"Đăng Ký",-1)),k={class:"subthongbao"},y={class:"row"},f={class:"value"},w={class:"row"},x={class:"value"},P={class:"row"},T=i(()=>t("div",{class:"label"},null,-1)),C={class:"value text-center"},U={key:1,class:"container"},V=i(()=>t("h1",null,"OTP",-1)),O={class:"row"},N={class:"value"},q={class:"row"},$=i(()=>t("div",{class:"label col-12"},null,-1)),B={class:"value col-12"},I={name:"Register",components:{},data:()=>({txtUserName:"",txtPassword:"",txtOTP:"",step:0,subthongbao:""}),created:async function(){},computed:{},mounted(){},methods:{Login(){if(!this.txtUserName){this.subthongbao="Chưa nhập tên đăng nhập!";return}if(!this.txtPassword){this.subthongbao="Chưa nhập mật khẩu!";return}this.$_root.context.post("/Authenticate/register",{Username:this.txtUserName,Password:this.txtPassword}).then(e=>{e.data.status&&e.data.status=="Success"?(this.subthongbao="Đăng ký thành công!",this.$toast.success("Đăng ký thành công!"),this.$router.push({name:"Login"})):this.subthongbao="Thông tin đăng ký chưa chính xác! Vui lòng xem lại."}).catch(e=>{console.error(e),e.response&&e.response.status==403?(this.subthongbao="Bạn không có quyền thực hiện chức năng này. Vui lòng liên hệ admin!",this.$toast.error("Bạn không có quyền thực hiện chức năng này. Vui lòng liên hệ admin!")):(this.subthongbao="Có lỗi xảy ra trong quá trình đăng ký, hoặc thông tin đăng ký chưa chính xác. Vui lòng thử lại sau!",this.$toast.error("Có lỗi xảy ra trong quá trình đăng ký, hoặc thông tin đăng ký chưa chính xác. Vui lòng thử lại sau!"))})},ConfirmOTP(){this.$emit("LoggedIn",{username:this.txtUserName,token:"123"})}}},L=Object.assign(I,{setup(e){return(s,n)=>(a(),r("div",_,[s.step==0?(a(),r("div",v,[b,t("div",k,p(s.subthongbao),1),t("div",y,[t("div",f,[h(t("input",{class:"form-control",type:"text",required:"","onUpdate:modelValue":n[0]||(n[0]=o=>s.txtUserName=o),placeholder:"Tên đăng nhập"},null,512),[[l,s.txtUserName]])])]),t("div",w,[t("div",x,[h(t("input",{class:"form-control",type:"password",required:"","onUpdate:modelValue":n[1]||(n[1]=o=>s.txtPassword=o),placeholder:"Mật khẩu"},null,512),[[l,s.txtPassword]])])]),t("div",P,[T,t("div",C,[t("input",{class:"btn btn-primary",type:"submit",value:"Đăng ký",onClick:n[2]||(n[2]=d((...o)=>s.Login&&s.Login(...o),["prevent"]))})])])])):c("",!0),s.step==1?(a(),r("div",U,[V,t("div",O,[t("div",N,[h(t("input",{class:"form-control",type:"password",required:"","onUpdate:modelValue":n[3]||(n[3]=o=>s.txtOTP=o),placeholder:"OTP..."},null,512),[[l,s.txtOTP]])])]),t("div",q,[$,t("div",B,[t("input",{class:"btn btn-primary",type:"submit",value:"Xác nhận",onClick:n[4]||(n[4]=d((...o)=>s.ConfirmOTP&&s.ConfirmOTP(...o),["prevent"]))})])])])):c("",!0)]))}}),M=u(L,[["__scopeId","data-v-0d7e9781"]]);export{M as default};
